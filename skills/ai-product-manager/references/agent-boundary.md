# Agent能力边界定义

## 目录
- [边界评估维度](#边界评估维度)
- [可行性分级](#可行性分级)
- [边界定义方法](#边界定义方法)
- [拒绝机制设计](#拒绝机制设计)
- [常见误区](#常见误区)

## 概览
本文档提供定义Agent能力边界的方法论和框架，帮助产品经理明确Agent能够可靠完成的任务范围，避免过度承诺和用户预期偏差。

## 边界评估维度

### 1. 任务复杂度
- **低复杂度**：明确的输入输出，标准流程（如FAQ问答）
- **中复杂度**：需要一定推理，但路径清晰（如订单查询）
- **高复杂度**：需要深度推理或创新（如复杂问题诊断）

### 2. 领域专属性
- **通用领域**：常识性知识（如天气查询、时间转换）
- **专业领域**：需要专业知识（如医疗诊断、法律建议）
- **垂直领域**：企业内部知识（如内部流程、专有数据）

### 3. 输入质量要求
- **结构化输入**：标准格式，易于解析（如表单填写）
- **半结构化输入**：有一定规范但不够严格（如自然语言查询）
- **非结构化输入**：自由文本，可能模糊不清（如开放式问题）

### 4. 输出质量要求
- **严格准确**：不允许错误（如金融计算、医疗诊断）
- **相对准确**：允许一定误差（如内容创作、建议推荐）
- **创意多样**：无标准答案（如创意文案、头脑风暴）

## 可行性分级

| 可行性等级 | 准确率要求 | 适用场景 | 用户体验设计 |
|-----------|-----------|---------|-------------|
| **可靠实现** | >90% | 标准化任务，常见问题 | 直接展示结果，提供确认按钮 |
| **辅助实现** | 70-90% | 需要推理，存在不确定性 | 展示建议，强调可修改，提供"接受/拒绝"选项 |
| **探索性** | 50-70% | 创意类任务，提供灵感 | 明确标注"仅供参考"，提供多个选项 |
| **暂不支持** | <50% | 技术未成熟或风险过高 | 提供友好拒绝，引导至替代方案 |

## 边界定义方法

### 步骤1：能力清单
列出Agent应具备的所有核心能力：

**示例：客服Agent能力清单**
```
1. 常见问题解答（FAQ）
2. 订单查询（查询状态、修改、取消）
3. 投诉处理（记录、转交）
4. 产品推荐（基于用户画像）
5. 售后服务（退换货、维修）
```

### 步骤2：可行性评估
对每个能力进行可行性评估：

| 能力 | 复杂度 | 输出要求 | 当前技术水平 | 可行性等级 |
|-----|-------|---------|------------|-----------|
| FAQ | 低 | 严格 | 成熟 | 可靠实现 |
| 订单查询 | 中 | 严格 | 成熟 | 可靠实现 |
| 投诉处理 | 高 | 严格 | 较成熟 | 辅助实现 |
| 产品推荐 | 中 | 相对 | 成熟 | 可靠实现 |
| 售后服务 | 高 | 严格 | 发展中 | 辅助实现 |

### 步骤3：边界条件定义
为每个能力定义具体的边界条件：

**FAQ边界条件**
- 支持范围：已收录的常见问题库（约500条）
- 不支持范围：未收录的问题、超出业务范围的问题
- 处理方式：支持问题直接回答，不支持问题引导至人工

**投诉处理边界条件**
- 支持范围：简单投诉（如产品质量、物流问题）
- 不支持范围：涉及法律、安全、重大损失投诉
- 处理方式：简单投诉记录并转交，复杂投诉直接转人工

### 步骤4：拒绝机制设计
设计友好的拒绝话术和降级方案：

**通用拒绝话术模板**
```
"很抱歉，[任务类型]超出了我的处理范围。[降级方案/引导]"

示例：
"很抱歉，涉及法律纠纷的投诉超出了我的处理范围。我将为您转接到专业客服，请稍候..."
"很抱歉，我无法处理这个问题。您可以在帮助中心查看相关内容，或直接联系客服。"
```

## 拒绝机制设计

### 拒绝触发条件
1. **超出能力范围**：任务不在定义的能力清单内
2. **输入不清晰**：用户描述模糊，无法理解意图
3. **风险过高**：涉及安全、隐私、法律责任
4. **系统异常**：后端服务不可用或响应超时

### 拒绝类型与应对

| 拒绝类型 | 触发条件 | 应对策略 | 示例话术 |
|---------|---------|---------|---------|
| **能力边界** | 超出定义的能力范围 | 引导至人工或替代方案 | "这个问题需要人工处理，我来为您转接客服..." |
| **输入不清** | 意图不明确 | 引导用户提供更多信息 | "请问您是想了解A还是B？我需要更多信息来帮助您..." |
| **风险过高** | 涉及安全或法律 | 明确拒绝并提示风险 | "涉及法律问题建议您咨询专业律师..." |
| **系统异常** | 服务不可用 | 说明问题并提供替代方案 | "系统暂时不可用，您可以稍后再试或拨打客服热线..." |

### 降级方案设计
当无法直接满足用户需求时，提供降级方案：

**降级方案优先级**
1. 部分满足：提供部分功能或简化版本
2. 引导自助：提供帮助文档、教程或常见问题
3. 转人工：引导至人工客服或支持团队
4. 延期处理：记录用户需求，承诺后续处理

**示例降级方案**
```
用户需求："帮我写一份完整的商业计划书"

降级方案1（部分满足）：
"我可以帮您生成商业计划书的大纲和关键要点，您需要在此基础上完善细节。"

降级方案2（引导自助）：
"我可以提供商业计划书的模板和写作指南，您可以参考这些内容自己完成。"

降级方案3（转人工）：
"完整的商业计划书需要专业顾问支持，我可以为您预约咨询服务。"
```

## 常见误区

### 误区1：能力边界过于宽泛
**问题**：试图让Agent处理所有类型的问题，导致错误率高，用户体验差。

**正确做法**：聚焦核心能力，边界外需求通过降级方案处理。

### 误区2：边界定义一成不变
**问题**：随着技术发展和数据积累，未及时调整边界。

**正确做法**：定期评估能力表现，逐步扩大可靠能力范围。

### 误区3：拒绝机制生硬
**问题**：直接说"我不能"，没有提供替代方案。

**正确做法**：设计友好的拒绝话术，提供明确的降级方案或引导。

### 误区4：忽视输入质量要求
**问题**：未明确对用户输入的要求，导致处理失败。

**正确做法**：在交互界面明确说明输入要求，提供输入示例和提示。

## 示例

### 示例1：智能写作助手能力边界

**能力清单**
1. 文本润色（语法、表达优化）
2. 内容生成（段落生成、扩写、缩写）
3. 结构优化（段落重组、大纲生成）
4. 风格调整（正式、口语、创意）

**可行性评估**
| 能力 | 可行性等级 | 边界条件 |
|-----|-----------|---------|
| 文本润色 | 可靠实现 | 输入长度<5000字，语言为中文/英文 |
| 内容生成 | 辅助实现 | 输入长度<1000字，生成内容<3000字 |
| 结构优化 | 辅助实现 | 输入长度<10000字，主题明确 |
| 风格调整 | 可靠实现 | 预设风格库内选择 |

**拒绝机制**
- 超长文本："文本长度超出处理范围，建议分段处理或使用专业编辑工具。"
- 主题不明："无法确定文本主题，请提供更多上下文或明确写作目标。"
- 风格不支持："暂不支持该风格，我可以帮您用[风格A/B/C]进行调整。"

### 示例2：数据分析Agent能力边界

**能力清单**
1. 数据可视化（图表生成）
2. 数据清洗（缺失值、异常值处理）
3. 数据分析（描述性统计、相关性分析）
4. 洞察生成（趋势、异常、建议）

**可行性评估**
| 能力 | 可行性等级 | 边界条件 |
|-----|-----------|---------|
| 数据可视化 | 可靠实现 | 数据量<10万行，支持格式：CSV/Excel |
| 数据清洗 | 辅助实现 | 需明确清洗规则，用户确认后执行 |
| 数据分析 | 辅助实现 | 标准统计分析，高级分析需人工确认 |
| 洞察生成 | 探索性 | 基于数据模式，可能存在误判 |

**拒绝机制**
- 超大数据量："数据量超出处理范围，建议抽样分析或使用专业工具。"
- 不支持格式："不支持该格式，请转换为CSV或Excel格式。"
- 分析结果不确定："分析结果基于数据模式，建议结合业务背景确认结论。"
